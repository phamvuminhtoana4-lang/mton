<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Shop Acc ToÃ n</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
*{box-sizing:border-box}
body{margin:0;font-family:Arial;background:#020617;color:#fff}
header{background:#020617;padding:10px;display:flex;justify-content:space-between;align-items:center}
#menuBtn{font-size:22px;cursor:pointer}
#userInfo{font-size:14px}
#side{position:fixed;left:-260px;top:0;width:250px;height:100%;background:#020617;padding:15px;transition:.3s}
#side a{display:block;padding:10px;border-bottom:1px solid #1e293b;cursor:pointer}
#overlay{position:fixed;inset:0;background:rgba(0,0,0,.5);display:none}
.container{padding:15px}
.card{background:#020617;padding:15px;border-radius:12px;margin-bottom:15px}
input,select{width:100%;padding:8px;margin:6px 0;border-radius:6px;border:none}
button{padding:8px;border:none;border-radius:6px;background:#fde047;font-weight:bold;cursor:pointer}
.view{display:none}.active{display:block}
.small{font-size:13px;color:#cbd5f5}
</style>
</head>

<body>

<header>
<span id="menuBtn" onclick="toggle()">â˜°</span>
<b>SHOP ACC TOÃ€N</b>
<div id="userInfo">ChÆ°a Ä‘Äƒng nháº­p</div>
</header>

<div id="side">
<a onclick="openView('home')">ğŸ  Trang chÃ­nh</a>
<a onclick="openView('nap')">ğŸ’³ Náº¡p tiá»n</a>
<a onclick="openView('history')">ğŸ“œ Lá»‹ch sá»­</a>
<a id="adminLink" onclick="openView('admin')" style="display:none">ğŸ‘‘ Admin</a>
<a onclick="logout()">ğŸšª ÄÄƒng xuáº¥t</a>
</div>
<div id="overlay" onclick="toggle()"></div>

<div class="container">

<!-- HOME -->
<div id="home" class="view active">
<div class="card">
<h2>ChÃ o má»«ng báº¡n Ä‘áº¿n vá»›i shop cá»§a ToÃ n</h2>
<p class="small">ÄÄƒng kÃ½ / Ä‘Äƒng nháº­p Ä‘á»ƒ sá»­ dá»¥ng dá»‹ch vá»¥</p>
</div>

<div class="card">
<h3>ÄÄƒng kÃ½</h3>
<input id="ru" placeholder="TÃ i khoáº£n">
<input id="rp" type="password" placeholder="Máº­t kháº©u">
<input id="rp2" type="password" placeholder="Nháº­p láº¡i máº­t kháº©u">
<button onclick="register()">ÄÄƒng kÃ½</button>
</div>

<div class="card">
<h3>ÄÄƒng nháº­p</h3>
<input id="lu" placeholder="TÃ i khoáº£n">
<input id="lp" type="password" placeholder="Máº­t kháº©u">
<button onclick="login()">ÄÄƒng nháº­p</button>
</div>

<div class="card">
<h3>Admin Ä‘Äƒng nháº­p</h3>
<input id="au" placeholder="Admin user">
<input id="ap" type="password" placeholder="Admin pass">
<button onclick="loginAdmin()">ÄÄƒng nháº­p admin</button>
</div>
</div>

<!-- Náº P -->
<div id="nap" class="view">
<div class="card">
<h3>Náº¡p tháº» cÃ o</h3>
<select id="cardVal">
<option value="10000">10.000</option>
<option value="50000">50.000</option>
<option value="100000">100.000</option>
<option value="200000">200.000</option>
<option value="500000">500.000</option>
</select>
<input id="cardCode" placeholder="MÃ£ tháº»">
<input id="cardSeri" placeholder="Seri">
<button onclick="sendCard()">Gá»­i tháº»</button>
</div>

<div class="card">
<h3>Chuyá»ƒn khoáº£n</h3>
<p class="small">Viettel Money: 9704229201718425041</p>
<input id="ckNote" placeholder="Ná»™i dung chuyá»ƒn khoáº£n">
<button onclick="sendBank()">Gá»­i xÃ¡c nháº­n</button>
</div>
</div>

<!-- HISTORY -->
<div id="history" class="view">
<div class="card">
<h3>Lá»‹ch sá»­ náº¡p</h3>
<div id="his"></div>
</div>
</div>

<!-- ADMIN -->
<div id="admin" class="view">
<div class="card">
<h3>Danh sÃ¡ch náº¡p chá» duyá»‡t</h3>
<div id="adminList"></div>
</div>
</div>

</div>

<script>
let users=JSON.parse(localStorage.users||"{}");
let pending=JSON.parse(localStorage.pending||"[]");
let cur="",isAdmin=false;

function toggle(){
 let s=document.getElementById("side"),o=document.getElementById("overlay");
 if(s.style.left=="0px"){s.style.left="-260px";o.style.display="none";}
 else{s.style.left="0px";o.style.display="block";}
}
function openView(id){
 document.querySelectorAll('.view').forEach(v=>v.classList.remove('active'));
 document.getElementById(id).classList.add('active');toggle();
}
function register(){
 if(rp.value!==rp2.value||!ru.value)return alert("Sai thÃ´ng tin");
 if(users[ru.value])return alert("Tá»“n táº¡i");
 users[ru.value]={pass:rp.value,balance:0,history:[]};
 localStorage.users=JSON.stringify(users);
 alert("ÄÄƒng kÃ½ thÃ nh cÃ´ng");
}
function login(){
 if(!users[lu.value]||users[lu.value].pass!==lp.value)return alert("Sai");
 cur=lu.value;isAdmin=false;
 userInfo.innerText="ğŸ‘¤ "+cur+" | ğŸ’° "+users[cur].balance+"Ä‘";
 openView('nap');
}
function loginAdmin(){
 if(au.value==="admin"&&ap.value==="Pvmt207#"){
  isAdmin=true;cur="ADMIN";
  adminLink.style.display="block";
  userInfo.innerText="ğŸ‘‘ ADMIN";
  openView('admin');renderAdmin();
 }else alert("Sai admin");
}
function logout(){location.reload();}

function sendCard(){
 pending.push({user:cur,type:"Tháº»",val:cardVal.value,code:cardCode.value,seri:cardSeri.value});
 localStorage.pending=JSON.stringify(pending);
 alert("ÄÃ£ gá»­i tháº», chá» admin duyá»‡t");
}
function sendBank(){
 pending.push({user:cur,type:"CK",note:ckNote.value});
 localStorage.pending=JSON.stringify(pending);
 alert("ÄÃ£ gá»­i xÃ¡c nháº­n CK");
}
function renderAdmin(){
 let html="";
 pending.forEach((p,i)=>{
  html+=`<div class="card">
<b>${p.user}</b> - ${p.type}<br>
${p.code||p.note||""}<br>
<input id="m${i}" placeholder="Sá»‘ tiá»n cá»™ng">
<button onclick="approve(${i})">Duyá»‡t</button>
</div>`;
 });
 adminList.innerHTML=html||"KhÃ´ng cÃ³";
}
function approve(i){
 let add=Number(document.getElementById("m"+i).value);
 let u=pending[i].user;
 users[u].balance+=add;
 users[u].history.push("Náº¡p +"+add+"Ä‘");
 pending.splice(i,1);
 localStorage.users=JSON.stringify(users);
 localStorage.pending=JSON.stringify(pending);
 renderAdmin();
}
</script>

</body>
</html>
