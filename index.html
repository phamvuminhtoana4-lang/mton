<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Shop Acc ToÃ n</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
*{box-sizing:border-box}
body{margin:0;font-family:Arial;background:#020617;color:#fff}
header{background:#020617;padding:10px;display:flex;justify-content:space-between;align-items:center}
#menuBtn{font-size:22px;cursor:pointer}
#userInfo{font-size:14px}
#side{position:fixed;left:-260px;top:0;width:250px;height:100%;background:#020617;padding:15px;transition:.3s}
#side a{display:block;padding:10px;border-bottom:1px solid #1e293b;cursor:pointer}
#overlay{position:fixed;inset:0;background:rgba(0,0,0,.5);display:none}
.container{padding:15px}
.card{background:#020617;padding:15px;border-radius:12px;margin-bottom:15px}
input,select{width:100%;padding:8px;margin:6px 0;border-radius:6px;border:none}
button{padding:8px;border:none;border-radius:6px;background:#fde047;font-weight:bold;cursor:pointer}
.view{display:none}.active{display:block}
.small{font-size:13px;color:#cbd5f5}
</style>
</head>

<body>

<header>
<span id="menuBtn" onclick="toggle()">â˜°</span>
<b>SHOP ACC TOÃ€N</b>
<div id="userInfo">ChÆ°a Ä‘Äƒng nháº­p</div>
</header>

<div id="side">
<a onclick="openView('home')">ğŸ  Trang chÃ­nh</a>
<a onclick="openView('nap')">ğŸ’³ Náº¡p tiá»n</a>
<a onclick="openView('shop')">ğŸ›’ Shop acc</a>
<a onclick="openView('hisNap')">ğŸ“œ Lá»‹ch sá»­ náº¡p</a>
<a onclick="openView('hisBuy')">ğŸ® Lá»‹ch sá»­ mua acc</a>
<a id="adminLink" onclick="openView('admin')" style="display:none">ğŸ‘‘ Quáº£n trá»‹</a>
<a onclick="logout()">ğŸšª ÄÄƒng xuáº¥t</a>
</div>
<div id="overlay" onclick="toggle()"></div>

<div class="container">

<!-- HOME -->
<div id="home" class="view active">
<div class="card">
<h2>ChÃ o má»«ng báº¡n Ä‘áº¿n vá»›i shop cá»§a ToÃ n</h2>
<p class="small">ÄÄƒng kÃ½ hoáº·c Ä‘Äƒng nháº­p Ä‘á»ƒ sá»­ dá»¥ng dá»‹ch vá»¥</p>
</div>

<div class="card">
<h3>ÄÄƒng kÃ½</h3>
<input id="ru" placeholder="TÃªn tÃ i khoáº£n">
<input id="rp" type="password" placeholder="Máº­t kháº©u">
<input id="rp2" type="password" placeholder="Nháº­p láº¡i máº­t kháº©u">
<button onclick="register()">ÄÄƒng kÃ½</button>
</div>

<div class="card">
<h3>ÄÄƒng nháº­p</h3>
<input id="lu" placeholder="TÃªn tÃ i khoáº£n">
<input id="lp" type="password" placeholder="Máº­t kháº©u">
<button onclick="login()">ÄÄƒng nháº­p</button>
</div>
</div>

<!-- Náº P -->
<div id="nap" class="view">
<div class="card">
<h3>Náº¡p tháº» cÃ o</h3>
<select id="cardVal">
<option value="10000">10.000</option>
<option value="50000">50.000</option>
<option value="100000">100.000</option>
<option value="200000">200.000</option>
<option value="500000">500.000</option>
</select>
<input id="cardCode" placeholder="MÃ£ tháº»">
<input id="cardSeri" placeholder="Seri">
<button onclick="sendCard()">Gá»­i tháº»</button>
</div>

<div class="card">
<h3>Chuyá»ƒn khoáº£n</h3>
<p class="small">Viettel Money: 9704229201718425041</p>
<input id="ckNote" placeholder="Ná»™i dung chuyá»ƒn khoáº£n">
<button onclick="sendBank()">Gá»­i xÃ¡c nháº­n</button>
</div>
</div>

<!-- SHOP -->
<div id="shop" class="view">
<div id="accList"></div>
</div>

<!-- HISTORY -->
<div id="hisNap" class="view"><div class="card"><h3>Lá»‹ch sá»­ náº¡p</h3><div id="hn"></div></div></div>
<div id="hisBuy" class="view"><div class="card"><h3>Lá»‹ch sá»­ mua acc</h3><div id="hb"></div></div></div>

<!-- ADMIN -->
<div id="admin" class="view">
<div class="card">
<h3>Giao dá»‹ch chá» duyá»‡t</h3>
<div id="adminPending"></div>
</div>

<div class="card">
<h3>ThÃªm acc</h3>
<input id="accName" placeholder="TÃªn acc">
<input id="accUser" placeholder="TK acc">
<input id="accPass" placeholder="MK acc">
<input id="accPrice" placeholder="GiÃ¡">
<button onclick="addAcc()">ThÃªm acc</button>
</div>
</div>

</div>

<script>
const ADMIN_USER="admin",ADMIN_PASS="Pvmt207#";
let users=JSON.parse(localStorage.users||"{}");
let accs=JSON.parse(localStorage.accs||"[]");
let pending=JSON.parse(localStorage.pending||"[]");
let cur="",isAdmin=false;

function toggle(){
 side.style.left=side.style.left=="0px"?"-260px":"0px";
 overlay.style.display=side.style.left=="0px"?"block":"none";
}
function openView(id){
 document.querySelectorAll('.view').forEach(v=>v.classList.remove('active'));
 document.getElementById(id).classList.add('active');toggle();
 if(id=="shop")renderShop();
 if(id=="admin")renderAdmin();
 if(id=="hisNap")renderHistory();
 if(id=="hisBuy")renderBuy();
}
function register(){
 if(rp.value!==rp2.value||!ru.value)return alert("Sai thÃ´ng tin");
 if(users[ru.value])return alert("Tá»“n táº¡i");
 users[ru.value]={pass:rp.value,balance:0,nap:[],buy:[]};
 localStorage.users=JSON.stringify(users);
 alert("ÄÄƒng kÃ½ thÃ nh cÃ´ng");
}
function login(){
 let u=lu.value,p=lp.value;
 if(u===ADMIN_USER&&p===ADMIN_PASS){
  isAdmin=true;cur="ADMIN";adminLink.style.display="block";
  userInfo.innerText="ğŸ‘‘ ADMIN";openView('admin');return;
 }
 if(!users[u]||users[u].pass!==p)return alert("Sai thÃ´ng tin");
 cur=u;userInfo.innerText=`ğŸ‘¤ ${cur} | ğŸ’° ${users[cur].balance}Ä‘`;
 openView('nap');
}
function logout(){location.reload();}
function sendCard(){
 pending.push({user:cur,type:"Tháº»",info:cardCode.value});
 localStorage.pending=JSON.stringify(pending);
 alert("ÄÃ£ gá»­i, chá» admin");
}
function sendBank(){
 pending.push({user:cur,type:"CK",info:ckNote.value});
 localStorage.pending=JSON.stringify(pending);
 alert("ÄÃ£ gá»­i xÃ¡c nháº­n");
}
function renderAdmin(){
 adminPending.innerHTML="";
 pending.forEach((p,i)=>{
  adminPending.innerHTML+=`
  <div class="card">
  <b>${p.user}</b> - ${p.type}<br>${p.info}
  <input id="add${i}" placeholder="Tiá»n cá»™ng">
  <button onclick="approve(${i})">Duyá»‡t</button>
  </div>`;
 });
}
function approve(i){
 let add=Number(document.getElementById("add"+i).value);
 users[pending[i].user].balance+=add;
 users[pending[i].user].nap.push("+"+add);
 pending.splice(i,1);
 localStorage.users=JSON.stringify(users);
 localStorage.pending=JSON.stringify(pending);
 renderAdmin();
}
function addAcc(){
 accs.push({name:accName.value,user:accUser.value,pass:accPass.value,price:Number(accPrice.value)});
 localStorage.accs=JSON.stringify(accs);
 alert("ÄÃ£ thÃªm acc");
}
function renderShop(){
 accList.innerHTML="";
 accs.forEach((a,i)=>{
  accList.innerHTML+=`
  <div class="card">
  <b>${a.name}</b><br>GiÃ¡: ${a.price}Ä‘<br>
  <button onclick="buy(${i})">Mua</button>
  </div>`;
 });
}
function buy(i){
 let a=accs[i];
 if(users[cur].balance<a.price)return alert("KhÃ´ng Ä‘á»§ tiá»n");
 users[cur].balance-=a.price;
 users[cur].buy.push(`${a.name} | TK:${a.user} | MK:${a.pass}`);
 accs.splice(i,1);
 localStorage.users=JSON.stringify(users);
 localStorage.accs=JSON.stringify(accs);
 alert("Mua thÃ nh cÃ´ng");
}
function renderHistory(){
 hn.innerHTML=users[cur].nap.map(n=>"<p>"+n+"</p>").join("");
}
function renderBuy(){
 hb.innerHTML=users[cur].buy.map(b=>"<p>"+b+"</p>").join("");
}
</script>

</body>
</html>
