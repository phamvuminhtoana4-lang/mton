<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>MTON Shop Acc</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{
 margin:0;font-family:Arial;
 background:radial-gradient(circle at top,#1e293b,#020617);
 color:#fff
}
header{
 background:rgba(2,6,23,.95);
 padding:12px 15px;
 display:flex;
 justify-content:space-between;
 align-items:center
}
#userInfo{
 background:#020617;
 padding:6px 10px;
 border-radius:8px;
 font-size:14px
}
#menu{
 display:none;
 grid-template-columns:repeat(auto-fit,minmax(140px,1fr));
 gap:10px;padding:15px
}
.menu-item{
 background:#020617;
 padding:18px;border-radius:12px;
 text-align:center;
 cursor:pointer
}
.menu-item:hover{background:#1e293b}
.view{display:none;padding:15px}
.active{display:block}
.card{
 background:#020617;
 padding:12px;border-radius:12px;
 margin-bottom:12px
}
input,select{
 width:100%;padding:8px;
 border-radius:6px;border:none;
 margin:5px 0
}
.btn{
 background:#fde047;color:#000;
 border:none;font-weight:bold;
 padding:8px;border-radius:6px;
 cursor:pointer
}
.small{font-size:13px;color:#cbd5f5}
.rank1{color:#facc15}
.rank2{color:#e5e7eb}
.rank3{color:#fb7185}
</style>
</head>

<body>

<header>
<div>ğŸŠ MTON SHOP ACC ROBLOX</div>
<div id="userInfo">ChÆ°a Ä‘Äƒng nháº­p</div>
</header>

<!-- LOGIN / REGISTER (TRANG CHÃNH) -->
<div id="auth" class="view active">
<div class="card">
<h3>ğŸ” ÄÄƒng kÃ½ / ÄÄƒng nháº­p</h3>
<input id="username" placeholder="TÃªn tÃ i khoáº£n">
<button class="btn" onclick="login()">Tiáº¿p tá»¥c</button>
<p class="small">ChÆ°a cÃ³ tÃ i khoáº£n? Nháº­p tÃªn Ä‘á»ƒ táº¡o má»›i.</p>
</div>
</div>

<!-- MENU -->
<div id="menu">
<div class="menu-item" onclick="openView('wallet')">ğŸ’³ Náº¡p tiá»n</div>
<div class="menu-item" onclick="openView('shop')">ğŸ›’ Shop Acc</div>
<div class="menu-item" onclick="openView('myacc')">ğŸ® Acc Ä‘Ã£ mua</div>
<div class="menu-item" onclick="openView('history')">ğŸ“œ Lá»‹ch sá»­</div>
</div>

<!-- WALLET -->
<div id="wallet" class="view">
<div class="card">
<h3>ğŸ’³ Náº¡p tháº»</h3>
<select id="cardVal">
<option value="10000">10.000Ä‘</option>
<option value="50000">50.000Ä‘</option>
<option value="100000">100.000Ä‘</option>
<option value="200000">200.000Ä‘</option>
<option value="500000">500.000Ä‘</option>
</select>
<input placeholder="MÃ£ tháº»">
<input placeholder="Seri">
<button class="btn" onclick="napTien()">Gá»­i tháº»</button>
<p class="small">Chá» admin duyá»‡t</p>
</div>

<div class="card">
<h3>ğŸ”¥ Top náº¡p thÃ¡ng</h3>
<div id="topList"></div>
</div>
</div>

<!-- SHOP -->
<div id="shop" class="view">
<div class="card">
<h3>ğŸ›’ Shop Acc</h3>
<p>Acc sáº½ hiá»ƒn thá»‹ khi admin thÃªm.</p>
</div>
</div>

<!-- MY ACC -->
<div id="myacc" class="view">
<div class="card">
<h3>ğŸ® Acc Ä‘Ã£ mua</h3>
<p>ChÆ°a cÃ³ acc.</p>
</div>
</div>

<!-- HISTORY -->
<div id="history" class="view">
<div class="card">
<h3>ğŸ“œ Lá»‹ch sá»­ giao dá»‹ch</h3>
<div id="his"></div>
</div>
</div>

<script>
let currentUser="";
let bal=JSON.parse(localStorage.bal||"{}");
let top=JSON.parse(localStorage.top||"{}");
let history=JSON.parse(localStorage.history||"{}");

function login(){
 currentUser=username.value;
 if(!currentUser)return;
 bal[currentUser]=bal[currentUser]||0;
 history[currentUser]=history[currentUser]||[];
 localStorage.bal=JSON.stringify(bal);
 localStorage.history=JSON.stringify(history);

 document.getElementById("auth").classList.remove("active");
 document.getElementById("menu").style.display="grid";
 openView("wallet");
 updateUserInfo();
}

function updateUserInfo(){
 document.getElementById("userInfo").innerHTML=
  "ğŸ‘¤ "+currentUser+" | ğŸ’° "+bal[currentUser]+"Ä‘";
}

function openView(id){
 document.querySelectorAll('.view').forEach(v=>v.classList.remove('active'));
 document.getElementById(id).classList.add('active');
 if(id==="wallet")renderTop();
 if(id==="history")renderHistory();
}

function napTien(){
 bal[currentUser]+=Number(cardVal.value);
 top[currentUser]=(top[currentUser]||0)+Number(cardVal.value);
 history[currentUser].push("Náº¡p "+cardVal.value+"Ä‘");

 localStorage.bal=JSON.stringify(bal);
 localStorage.top=JSON.stringify(top);
 localStorage.history=JSON.stringify(history);

 updateUserInfo();
 renderTop();
 alert("ÄÃ£ gá»­i yÃªu cáº§u náº¡p");
}

function renderTop(){
 let arr=Object.entries(top).sort((a,b)=>b[1]-a[1]).slice(0,5);
 let html="";
 arr.forEach((e,i)=>{
  let icon=i==0?"ğŸ¥‡":i==1?"ğŸ¥ˆ":i==2?"ğŸ¥‰":"#"+(i+1);
  html+=`<p>${icon} ${e[0]} - ${e[1]}Ä‘</p>`;
 });
 document.getElementById("topList").innerHTML=html||"ChÆ°a cÃ³";
}

function renderHistory(){
 let h=history[currentUser]||[];
 document.getElementById("his").innerHTML=h.map(x=>"<p>"+x+"</p>").join("")||"ChÆ°a cÃ³";
}
</script>

</body>
</html>
